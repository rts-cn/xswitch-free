# This file extends docker-compose.yml
version: "3.3"

services:

  xswitch:
    container_name: xswitch-free-study
    image: ccr.ccs.tencentyun.com/xswitch/xswitch-free
    environment:
        - FREESWITCH_DOMAIN=${FREESWITCH_DOMAIN}
    env_file: .env
    ports:
      - "${RTP_START:-2000}-${RTP_END:-2000}:${RTP_START:-2100}-${RTP_END:-2100}/udp"
      - "${SIP_PORT:-5060}:${SIP_PORT:-5060}/udp"
      - "${SIP_PORT:-5060}:${SIP_PORT:-5060}/tcp"
      - "${SIP_PUBLIC_PORT:-5080}:${SIP_PUBLIC_PORT:-5080}/udp"
      - "${SIP_PUBLIC_PORT:-5080}:${SIP_PUBLIC_PORT:-5080}/tcp"
      - "${WS_PORT}:${WS_PORT}"
      - "${WSS_PORT}:${WSS_PORT}"
    volumes:
       - ./conf/:/usr/local/freeswitch/conf:cached
       - ./certs/:/usr/local/freeswitch/certs
